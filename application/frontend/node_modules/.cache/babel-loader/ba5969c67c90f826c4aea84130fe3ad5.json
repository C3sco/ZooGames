{"ast":null,"code":"import { __awaiter } from '../../../../_virtual/_tslib.js';\nimport { jsx, jsxs } from 'react/jsx-runtime';\nimport { useState } from 'react';\nimport { VIEWS } from '../../../constants.js';\nimport { Anchor } from '../../UI/Anchor.js';\nimport { Button } from '../../UI/Button.js';\nimport { Container } from '../../UI/Container.js';\nimport '../../UI/Divider.js';\nimport { Input } from '../../UI/Input.js';\nimport { Label } from '../../UI/Label.js';\nimport { Message } from '../../UI/Message.js';\n\nfunction MagicLink(_ref) {\n  let {\n    setAuthView,\n    supabaseClient,\n    redirectTo,\n    i18n,\n    appearance,\n    showLinks\n  } = _ref;\n\n  var _a, _b, _c, _d;\n\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState('');\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleMagicLinkSignIn = e => __awaiter(this, void 0, void 0, function* () {\n    e.preventDefault();\n    setError('');\n    setMessage('');\n    setLoading(true);\n    const {\n      error\n    } = yield supabaseClient.auth.signInWithOtp({\n      email,\n      options: {\n        emailRedirectTo: redirectTo\n      }\n    });\n    if (error) setError(error.message);else setMessage('Check your email for the magic link');\n    setLoading(false);\n  });\n\n  return jsx(\"form\", Object.assign({\n    id: \"auth-magic-link\",\n    onSubmit: handleMagicLinkSignIn\n  }, {\n    children: jsxs(Container, Object.assign({\n      gap: \"large\",\n      direction: \"vertical\",\n      appearance: appearance\n    }, {\n      children: [jsxs(Container, Object.assign({\n        gap: \"large\",\n        direction: \"vertical\",\n        appearance: appearance\n      }, {\n        children: [jsxs(\"div\", {\n          children: [jsx(Label, Object.assign({\n            appearance: appearance\n          }, {\n            children: (_a = i18n === null || i18n === void 0 ? void 0 : i18n.magic_link) === null || _a === void 0 ? void 0 : _a.email_input_label\n          })), jsx(Input, {\n            type: \"email\",\n            placeholder: (_b = i18n === null || i18n === void 0 ? void 0 : i18n.magic_link) === null || _b === void 0 ? void 0 : _b.email_input_placeholder,\n            onChange: e => setEmail(e.target.value),\n            appearance: appearance\n          })]\n        }), jsx(Button, Object.assign({\n          color: \"primary\",\n          type: \"submit\",\n          loading: loading,\n          appearance: appearance\n        }, {\n          children: (_c = i18n === null || i18n === void 0 ? void 0 : i18n.magic_link) === null || _c === void 0 ? void 0 : _c.button_label\n        }))]\n      })), showLinks && jsx(Anchor, Object.assign({\n        href: \"#auth-sign-in\",\n        onClick: e => {\n          e.preventDefault();\n          setAuthView(VIEWS.SIGN_IN);\n        },\n        appearance: appearance\n      }, {\n        children: (_d = i18n === null || i18n === void 0 ? void 0 : i18n.sign_in) === null || _d === void 0 ? void 0 : _d.link_text\n      })), message && jsx(Message, Object.assign({\n        appearance: appearance\n      }, {\n        children: message\n      })), error && jsx(Message, Object.assign({\n        color: \"danger\",\n        appearance: appearance\n      }, {\n        children: error\n      }))]\n    }))\n  }));\n}\n\nexport { MagicLink };","map":{"version":3,"names":["__awaiter","jsx","jsxs","useState","VIEWS","Anchor","Button","Container","Input","Label","Message","MagicLink","_ref","setAuthView","supabaseClient","redirectTo","i18n","appearance","showLinks","_a","_b","_c","_d","email","setEmail","error","setError","message","setMessage","loading","setLoading","handleMagicLinkSignIn","e","preventDefault","auth","signInWithOtp","options","emailRedirectTo","Object","assign","id","onSubmit","children","gap","direction","magic_link","email_input_label","type","placeholder","email_input_placeholder","onChange","target","value","color","button_label","href","onClick","SIGN_IN","sign_in","link_text"],"sources":["D:/Documenti/GitHub/ZooGames/application/frontend/node_modules/@supabase/auth-ui-react/dist/esm/src/components/Auth/interfaces/MagicLink.js"],"sourcesContent":["import { __awaiter } from '../../../../_virtual/_tslib.js';\nimport { jsx, jsxs } from 'react/jsx-runtime';\nimport { useState } from 'react';\nimport { VIEWS } from '../../../constants.js';\nimport { Anchor } from '../../UI/Anchor.js';\nimport { Button } from '../../UI/Button.js';\nimport { Container } from '../../UI/Container.js';\nimport '../../UI/Divider.js';\nimport { Input } from '../../UI/Input.js';\nimport { Label } from '../../UI/Label.js';\nimport { Message } from '../../UI/Message.js';\n\nfunction MagicLink(_ref) {\n  let {\n    setAuthView,\n    supabaseClient,\n    redirectTo,\n    i18n,\n    appearance,\n    showLinks\n  } = _ref;\n\n  var _a, _b, _c, _d;\n\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState('');\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleMagicLinkSignIn = e => __awaiter(this, void 0, void 0, function* () {\n    e.preventDefault();\n    setError('');\n    setMessage('');\n    setLoading(true);\n    const {\n      error\n    } = yield supabaseClient.auth.signInWithOtp({\n      email,\n      options: {\n        emailRedirectTo: redirectTo\n      }\n    });\n    if (error) setError(error.message);else setMessage('Check your email for the magic link');\n    setLoading(false);\n  });\n\n  return jsx(\"form\", Object.assign({\n    id: \"auth-magic-link\",\n    onSubmit: handleMagicLinkSignIn\n  }, {\n    children: jsxs(Container, Object.assign({\n      gap: \"large\",\n      direction: \"vertical\",\n      appearance: appearance\n    }, {\n      children: [jsxs(Container, Object.assign({\n        gap: \"large\",\n        direction: \"vertical\",\n        appearance: appearance\n      }, {\n        children: [jsxs(\"div\", {\n          children: [jsx(Label, Object.assign({\n            appearance: appearance\n          }, {\n            children: (_a = i18n === null || i18n === void 0 ? void 0 : i18n.magic_link) === null || _a === void 0 ? void 0 : _a.email_input_label\n          })), jsx(Input, {\n            type: \"email\",\n            placeholder: (_b = i18n === null || i18n === void 0 ? void 0 : i18n.magic_link) === null || _b === void 0 ? void 0 : _b.email_input_placeholder,\n            onChange: e => setEmail(e.target.value),\n            appearance: appearance\n          })]\n        }), jsx(Button, Object.assign({\n          color: \"primary\",\n          type: \"submit\",\n          loading: loading,\n          appearance: appearance\n        }, {\n          children: (_c = i18n === null || i18n === void 0 ? void 0 : i18n.magic_link) === null || _c === void 0 ? void 0 : _c.button_label\n        }))]\n      })), showLinks && jsx(Anchor, Object.assign({\n        href: \"#auth-sign-in\",\n        onClick: e => {\n          e.preventDefault();\n          setAuthView(VIEWS.SIGN_IN);\n        },\n        appearance: appearance\n      }, {\n        children: (_d = i18n === null || i18n === void 0 ? void 0 : i18n.sign_in) === null || _d === void 0 ? void 0 : _d.link_text\n      })), message && jsx(Message, Object.assign({\n        appearance: appearance\n      }, {\n        children: message\n      })), error && jsx(Message, Object.assign({\n        color: \"danger\",\n        appearance: appearance\n      }, {\n        children: error\n      }))]\n    }))\n  }));\n}\n\nexport { MagicLink };\n"],"mappings":"AAAA,SAASA,SAAT,QAA0B,gCAA1B;AACA,SAASC,GAAT,EAAcC,IAAd,QAA0B,mBAA1B;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,KAAT,QAAsB,uBAAtB;AACA,SAASC,MAAT,QAAuB,oBAAvB;AACA,SAASC,MAAT,QAAuB,oBAAvB;AACA,SAASC,SAAT,QAA0B,uBAA1B;AACA,OAAO,qBAAP;AACA,SAASC,KAAT,QAAsB,mBAAtB;AACA,SAASC,KAAT,QAAsB,mBAAtB;AACA,SAASC,OAAT,QAAwB,qBAAxB;;AAEA,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;EACvB,IAAI;IACFC,WADE;IAEFC,cAFE;IAGFC,UAHE;IAIFC,IAJE;IAKFC,UALE;IAMFC;EANE,IAOAN,IAPJ;;EASA,IAAIO,EAAJ,EAAQC,EAAR,EAAYC,EAAZ,EAAgBC,EAAhB;;EAEA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBrB,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACsB,KAAD,EAAQC,QAAR,IAAoBvB,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACwB,OAAD,EAAUC,UAAV,IAAwBzB,QAAQ,CAAC,EAAD,CAAtC;EACA,MAAM,CAAC0B,OAAD,EAAUC,UAAV,IAAwB3B,QAAQ,CAAC,KAAD,CAAtC;;EAEA,MAAM4B,qBAAqB,GAAGC,CAAC,IAAIhC,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAa;IAC9EgC,CAAC,CAACC,cAAF;IACAP,QAAQ,CAAC,EAAD,CAAR;IACAE,UAAU,CAAC,EAAD,CAAV;IACAE,UAAU,CAAC,IAAD,CAAV;IACA,MAAM;MACJL;IADI,IAEF,MAAMX,cAAc,CAACoB,IAAf,CAAoBC,aAApB,CAAkC;MAC1CZ,KAD0C;MAE1Ca,OAAO,EAAE;QACPC,eAAe,EAAEtB;MADV;IAFiC,CAAlC,CAFV;IAQA,IAAIU,KAAJ,EAAWC,QAAQ,CAACD,KAAK,CAACE,OAAP,CAAR,CAAX,KAAwCC,UAAU,CAAC,qCAAD,CAAV;IACxCE,UAAU,CAAC,KAAD,CAAV;EACD,CAf2C,CAA5C;;EAiBA,OAAO7B,GAAG,CAAC,MAAD,EAASqC,MAAM,CAACC,MAAP,CAAc;IAC/BC,EAAE,EAAE,iBAD2B;IAE/BC,QAAQ,EAAEV;EAFqB,CAAd,EAGhB;IACDW,QAAQ,EAAExC,IAAI,CAACK,SAAD,EAAY+B,MAAM,CAACC,MAAP,CAAc;MACtCI,GAAG,EAAE,OADiC;MAEtCC,SAAS,EAAE,UAF2B;MAGtC3B,UAAU,EAAEA;IAH0B,CAAd,EAIvB;MACDyB,QAAQ,EAAE,CAACxC,IAAI,CAACK,SAAD,EAAY+B,MAAM,CAACC,MAAP,CAAc;QACvCI,GAAG,EAAE,OADkC;QAEvCC,SAAS,EAAE,UAF4B;QAGvC3B,UAAU,EAAEA;MAH2B,CAAd,EAIxB;QACDyB,QAAQ,EAAE,CAACxC,IAAI,CAAC,KAAD,EAAQ;UACrBwC,QAAQ,EAAE,CAACzC,GAAG,CAACQ,KAAD,EAAQ6B,MAAM,CAACC,MAAP,CAAc;YAClCtB,UAAU,EAAEA;UADsB,CAAd,EAEnB;YACDyB,QAAQ,EAAE,CAACvB,EAAE,GAAGH,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAAC6B,UAAvD,MAAuE,IAAvE,IAA+E1B,EAAE,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwGA,EAAE,CAAC2B;UADpH,CAFmB,CAAR,CAAJ,EAIL7C,GAAG,CAACO,KAAD,EAAQ;YACduC,IAAI,EAAE,OADQ;YAEdC,WAAW,EAAE,CAAC5B,EAAE,GAAGJ,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAAC6B,UAAvD,MAAuE,IAAvE,IAA+EzB,EAAE,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwGA,EAAE,CAAC6B,uBAF1G;YAGdC,QAAQ,EAAElB,CAAC,IAAIR,QAAQ,CAACQ,CAAC,CAACmB,MAAF,CAASC,KAAV,CAHT;YAIdnC,UAAU,EAAEA;UAJE,CAAR,CAJE;QADW,CAAR,CAAL,EAWNhB,GAAG,CAACK,MAAD,EAASgC,MAAM,CAACC,MAAP,CAAc;UAC5Bc,KAAK,EAAE,SADqB;UAE5BN,IAAI,EAAE,QAFsB;UAG5BlB,OAAO,EAAEA,OAHmB;UAI5BZ,UAAU,EAAEA;QAJgB,CAAd,EAKb;UACDyB,QAAQ,EAAE,CAACrB,EAAE,GAAGL,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAAC6B,UAAvD,MAAuE,IAAvE,IAA+ExB,EAAE,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwGA,EAAE,CAACiC;QADpH,CALa,CAAT,CAXG;MADT,CAJwB,CAAZ,CAAL,EAwBLpC,SAAS,IAAIjB,GAAG,CAACI,MAAD,EAASiC,MAAM,CAACC,MAAP,CAAc;QAC1CgB,IAAI,EAAE,eADoC;QAE1CC,OAAO,EAAExB,CAAC,IAAI;UACZA,CAAC,CAACC,cAAF;UACApB,WAAW,CAACT,KAAK,CAACqD,OAAP,CAAX;QACD,CALyC;QAM1CxC,UAAU,EAAEA;MAN8B,CAAd,EAO3B;QACDyB,QAAQ,EAAE,CAACpB,EAAE,GAAGN,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAAC0C,OAAvD,MAAoE,IAApE,IAA4EpC,EAAE,KAAK,KAAK,CAAxF,GAA4F,KAAK,CAAjG,GAAqGA,EAAE,CAACqC;MADjH,CAP2B,CAAT,CAxBX,EAiCLhC,OAAO,IAAI1B,GAAG,CAACS,OAAD,EAAU4B,MAAM,CAACC,MAAP,CAAc;QACzCtB,UAAU,EAAEA;MAD6B,CAAd,EAE1B;QACDyB,QAAQ,EAAEf;MADT,CAF0B,CAAV,CAjCT,EAqCLF,KAAK,IAAIxB,GAAG,CAACS,OAAD,EAAU4B,MAAM,CAACC,MAAP,CAAc;QACvCc,KAAK,EAAE,QADgC;QAEvCpC,UAAU,EAAEA;MAF2B,CAAd,EAGxB;QACDyB,QAAQ,EAAEjB;MADT,CAHwB,CAAV,CArCP;IADT,CAJuB,CAAZ;EADb,CAHgB,CAAT,CAAV;AAsDD;;AAED,SAASd,SAAT"},"metadata":{},"sourceType":"module"}