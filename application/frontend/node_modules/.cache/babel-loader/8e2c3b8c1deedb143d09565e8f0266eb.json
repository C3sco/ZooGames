{"ast":null,"code":"import { __awaiter } from '../../../_virtual/_tslib.js';\nimport { jsx } from 'react/jsx-runtime';\nimport { useState, useEffect, useContext, createContext } from 'react';\nconst UserContext = /*#__PURE__*/createContext({\n  user: null,\n  session: null\n});\n\nconst UserContextProvider = props => {\n  var _a;\n\n  const {\n    supabaseClient\n  } = props;\n  const [session, setSession] = useState(null);\n  const [user, setUser] = useState((_a = session === null || session === void 0 ? void 0 : session.user) !== null && _a !== void 0 ? _a : null);\n  useEffect(() => {\n    (() => __awaiter(void 0, void 0, void 0, function* () {\n      var _a, _b;\n\n      const {\n        data\n      } = yield supabaseClient.auth.getSession();\n      setSession(data.session);\n      setUser((_b = (_a = data.session) === null || _a === void 0 ? void 0 : _a.user) !== null && _b !== void 0 ? _b : null);\n    }))();\n\n    const {\n      data: authListener\n    } = supabaseClient.auth.onAuthStateChange((event, session) => __awaiter(void 0, void 0, void 0, function* () {\n      var _c;\n\n      setSession(session);\n      setUser((_c = session === null || session === void 0 ? void 0 : session.user) !== null && _c !== void 0 ? _c : null);\n    }));\n    return () => {\n      authListener === null || authListener === void 0 ? void 0 : authListener.subscription.unsubscribe();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const value = {\n    session,\n    user\n  };\n  return jsx(UserContext.Provider, Object.assign({\n    value: value\n  }, props));\n};\n\nconst useUser = () => {\n  const context = useContext(UserContext);\n\n  if (context === undefined) {\n    throw new Error(`useUser must be used within a UserContextProvider.`);\n  }\n\n  return context;\n};\n\nexport { UserContextProvider, useUser };","map":{"version":3,"names":["__awaiter","jsx","useState","useEffect","useContext","createContext","UserContext","user","session","UserContextProvider","props","_a","supabaseClient","setSession","setUser","_b","data","auth","getSession","authListener","onAuthStateChange","event","_c","subscription","unsubscribe","value","Provider","Object","assign","useUser","context","undefined","Error"],"sources":["D:/Documenti/GitHub/ZooGames/application/frontend/node_modules/@supabase/auth-ui-react/dist/esm/src/components/Auth/UserContext.js"],"sourcesContent":["import { __awaiter } from '../../../_virtual/_tslib.js';\nimport { jsx } from 'react/jsx-runtime';\nimport { useState, useEffect, useContext, createContext } from 'react';\n\nconst UserContext = /*#__PURE__*/createContext({\n  user: null,\n  session: null\n});\nconst UserContextProvider = props => {\n  var _a;\n\n  const {\n    supabaseClient\n  } = props;\n  const [session, setSession] = useState(null);\n  const [user, setUser] = useState((_a = session === null || session === void 0 ? void 0 : session.user) !== null && _a !== void 0 ? _a : null);\n  useEffect(() => {\n\n    (() => __awaiter(void 0, void 0, void 0, function* () {\n      var _a, _b;\n\n      const {\n        data\n      } = yield supabaseClient.auth.getSession();\n      setSession(data.session);\n      setUser((_b = (_a = data.session) === null || _a === void 0 ? void 0 : _a.user) !== null && _b !== void 0 ? _b : null);\n    }))();\n\n    const {\n      data: authListener\n    } = supabaseClient.auth.onAuthStateChange((event, session) => __awaiter(void 0, void 0, void 0, function* () {\n      var _c;\n\n      setSession(session);\n      setUser((_c = session === null || session === void 0 ? void 0 : session.user) !== null && _c !== void 0 ? _c : null);\n    }));\n    return () => {\n      authListener === null || authListener === void 0 ? void 0 : authListener.subscription.unsubscribe();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const value = {\n    session,\n    user\n  };\n  return jsx(UserContext.Provider, Object.assign({\n    value: value\n  }, props));\n};\nconst useUser = () => {\n  const context = useContext(UserContext);\n\n  if (context === undefined) {\n    throw new Error(`useUser must be used within a UserContextProvider.`);\n  }\n\n  return context;\n};\n\nexport { UserContextProvider, useUser };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}