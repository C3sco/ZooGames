{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documenti\\\\GitHub\\\\ZooGames\\\\application\\\\frontend\\\\src\\\\Giochi\\\\Quiz\\\\EndScreen.js\";\nimport { useEffect, useState } from 'react';\nimport './quiz.css';\nimport { supabase } from '../../components/Database.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EndStat(_ref) {\n  let {\n    label,\n    value\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"end-screen__stat\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"end-screen__stat-label\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"end-screen__stat-value\",\n      children: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 5\n  }, this);\n}\n\n_c = EndStat;\n\nfunction EndScreen(_ref2) {\n  let {\n    score,\n    onRetryClick,\n    playTime,\n    session\n  } = _ref2;\n  // const [playerScore, setPlayerScore] = useState('')\n  const minutes = `${Math.floor(playTime / 60)}`.padStart(2, \"0\");\n  const seconds = `${Math.floor(playTime % 60)}`.padStart(2, \"0\");\n  const timeString = `${minutes}:${seconds}`;\n\n  const updateScore = async () => {\n    const points = await supabase.from('users').select('score').eq('id', session.user.id);\n    let punti = parseInt(points.data[0].score); // setPlayerScore(points);\n\n    let newScore = punti + score;\n    console.log(\"Nuovo punteggio:\" + newScore);\n    await supabase.from('users').update('score', newScore).eq('id', session.user.id);\n    console.log(\"Punteggio aggiornato!\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"end-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Quiz Finito!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"end-screen__trophy\",\n      initial: {\n        rotate: 0,\n        originX: 0.5,\n        originY: 0.5\n      },\n      animate: {\n        rotate: 360\n      },\n      transition: {\n        type: \"spring\",\n        damping: 10,\n        stiffness: 100\n      },\n      children: \"\\uD83C\\uDFC6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EndStat, {\n      label: \"Punteggio\",\n      value: score\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EndStat, {\n      label: \"Tempo\",\n      value: timeString\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"c3-play\",\n      onClick: onRetryClick,\n      children: \"Riprova\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"c3-succ\",\n      onClick: () => updateScore(score),\n      children: \"Aggiorna punteggio\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = EndScreen;\nexport default EndScreen;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"EndStat\");\n$RefreshReg$(_c2, \"EndScreen\");","map":{"version":3,"names":["useEffect","useState","supabase","EndStat","label","value","EndScreen","score","onRetryClick","playTime","session","minutes","Math","floor","padStart","seconds","timeString","updateScore","points","from","select","eq","user","id","punti","parseInt","data","newScore","console","log","update","rotate","originX","originY","type","damping","stiffness"],"sources":["D:/Documenti/GitHub/ZooGames/application/frontend/src/Giochi/Quiz/EndScreen.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport './quiz.css'\r\nimport { supabase } from '../../components/Database.js';\r\n\r\nfunction EndStat({ label, value }) {\r\n  return (\r\n    <div className=\"end-screen__stat\">\r\n      <div className=\"end-screen__stat-label\">{label}</div>\r\n      <div className=\"end-screen__stat-value\">{value}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction EndScreen({ score, onRetryClick, playTime, session }) {\r\n  // const [playerScore, setPlayerScore] = useState('')\r\n  const minutes = `${Math.floor(playTime / 60)}`.padStart(2, \"0\");\r\n  const seconds = `${Math.floor(playTime % 60)}`.padStart(2, \"0\");\r\n  const timeString = `${minutes}:${seconds}`;\r\n\r\n\r\n\r\n  const updateScore = async () => {\r\n    const points = await supabase.from('users').select('score').eq('id', session.user.id)\r\n    let punti = parseInt(points.data[0].score)\r\n    // setPlayerScore(points);\r\n    let newScore = punti + score;\r\n    console.log(\"Nuovo punteggio:\" + newScore);\r\n    await supabase.from('users').update('score', newScore).eq('id', session.user.id);\r\n    console.log(\"Punteggio aggiornato!\")\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"end-screen\">\r\n      <h1>Quiz Finito!</h1>\r\n      <div\r\n        className=\"end-screen__trophy\"\r\n        initial={{ rotate: 0, originX: 0.5, originY: 0.5 }}\r\n        animate={{ rotate: 360 }}\r\n        transition={{ type: \"spring\", damping: 10, stiffness: 100 }}\r\n      >\r\n        üèÜ\r\n      </div>\r\n      <EndStat label=\"Punteggio\" value={score} />\r\n      <EndStat label=\"Tempo\" value={timeString} />\r\n\r\n      <button className=\"c3-play\" onClick={onRetryClick}>\r\n        Riprova\r\n      </button>\r\n      <br></br>\r\n      <br></br>\r\n      <button className=\"c3-succ\" onClick={() => updateScore(score)}>\r\n        Aggiorna punteggio\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EndScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module"}