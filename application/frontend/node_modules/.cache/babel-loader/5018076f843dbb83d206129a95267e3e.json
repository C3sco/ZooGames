{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documenti\\\\GitHub\\\\ZooGames\\\\application\\\\frontend\\\\src\\\\Giochi\\\\Quiz\\\\QuizPage.js\",\n    _s = $RefreshSig$();\n\nimport Game from './Game.js';\nimport Loagin from '.Loading.js';\nimport Error from '.Error.js';\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction quizPage() {\n  _s();\n\n  // const [isLoading, setLoading]\n  const [quiz, setQuiz] = useState({\n    isLoading: true,\n    error: \"\",\n    data: null\n  });\n  const {\n    isLoading,\n    error,\n    data\n  } = quiz;\n  useEffect(() => {\n    async function getQuiz() {\n      try {\n        console.log(\"Sto caricando le domande\");\n        const url = \"https://opentdb.com/api.php?amount=10&category=27\";\n        const response = await fetch(url);\n\n        if (!response.ok) {\n          throw new Error(\"Errore nella richiesta url\");\n        }\n\n        const json = await response.json();\n        const {\n          response_code,\n          results\n        } = json;\n\n        if (response_code === 1) {\n          throw new Error(\"Errore nella richiesta api, nessun risultato\");\n        }\n\n        setQuiz({\n          isLoading: false,\n          error: \"\",\n          data: results\n        });\n        console.log(json);\n      } catch (err) {\n        setQuiz({\n          isLoading: false,\n          error: \"Qualcosa è andato storto\",\n          data: null\n        });\n      }\n    }\n\n    getQuiz();\n  }, []);\n  let contents;\n\n  if (isLoading) {\n    contents = /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 18\n    }, this);\n  } else if (error !== \"\") {\n    contents = /*#__PURE__*/_jsxDEV(Error, {\n      children: \"Qualcosa non ha funzionato\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 20\n    }, this);\n  } else {\n    contents = /*#__PURE__*/_jsxDEV(Game, {\n      quizData: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 18\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: contents\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n\n_s(quizPage, \"rXRBBZSykaVFDIMScK7CHi/UOC8=\");","map":{"version":3,"names":["Game","Loagin","Error","useState","useEffect","quizPage","quiz","setQuiz","isLoading","error","data","getQuiz","console","log","url","response","fetch","ok","json","response_code","results","err","contents"],"sources":["D:/Documenti/GitHub/ZooGames/application/frontend/src/Giochi/Quiz/QuizPage.js"],"sourcesContent":["import Game from './Game.js'\r\nimport Loagin from '.Loading.js'\r\nimport Error from '.Error.js'\r\nimport { useState, useEffect } from 'react'\r\n\r\n\r\nfunction quizPage(){\r\n\r\n    // const [isLoading, setLoading]\r\n    const [quiz, setQuiz] = useState({ isLoading: true, error:\"\", data:null});\r\n    const{isLoading,error,data} = quiz;\r\n\r\n\r\n    useEffect(() => {\r\n        \r\n        async function getQuiz(){\r\n            try{\r\n            console.log(\"Sto caricando le domande\");\r\n            const url = \"https://opentdb.com/api.php?amount=10&category=27\";\r\n            const response = await fetch(url);\r\n            if(!response.ok){\r\n                throw new Error(\"Errore nella richiesta url\")\r\n            }\r\n            const json = await response.json();\r\n            const{response_code,results} = json\r\n\r\n            if(response_code === 1){\r\n                throw new Error(\"Errore nella richiesta api, nessun risultato\")\r\n            }\r\n\r\n            setQuiz({\r\n                isLoading:false,\r\n                error:\"\",\r\n                data: results\r\n            })\r\n\r\n            console.log(json)\r\n            }catch(err){\r\n                setQuiz({\r\n                    isLoading:false,\r\n                    error:\"Qualcosa è andato storto\",\r\n                    data: null\r\n                })\r\n            }\r\n        }\r\n        getQuiz();\r\n\r\n    },[]);\r\n\r\n    let contents;\r\n    if(isLoading){\r\n        contents=<Loading />\r\n    }else if(error!==\"\"){\r\n        contents = <Error>Qualcosa non ha funzionato</Error>\r\n    }else{\r\n        contents=<Game quizData = {data} />\r\n    }\r\n\r\n\r\n    return(\r\n        <main>\r\n            {contents}\r\n        </main>\r\n    )\r\n\r\n}"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,KAAP,MAAkB,WAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;;AAGA,SAASC,QAAT,GAAmB;EAAA;;EAEf;EACA,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,CAAC;IAAEK,SAAS,EAAE,IAAb;IAAmBC,KAAK,EAAC,EAAzB;IAA6BC,IAAI,EAAC;EAAlC,CAAD,CAAhC;EACA,MAAK;IAACF,SAAD;IAAWC,KAAX;IAAiBC;EAAjB,IAAyBJ,IAA9B;EAGAF,SAAS,CAAC,MAAM;IAEZ,eAAeO,OAAf,GAAwB;MACpB,IAAG;QACHC,OAAO,CAACC,GAAR,CAAY,0BAAZ;QACA,MAAMC,GAAG,GAAG,mDAAZ;QACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,CAA5B;;QACA,IAAG,CAACC,QAAQ,CAACE,EAAb,EAAgB;UACZ,MAAM,IAAIf,KAAJ,CAAU,4BAAV,CAAN;QACH;;QACD,MAAMgB,IAAI,GAAG,MAAMH,QAAQ,CAACG,IAAT,EAAnB;QACA,MAAK;UAACC,aAAD;UAAeC;QAAf,IAA0BF,IAA/B;;QAEA,IAAGC,aAAa,KAAK,CAArB,EAAuB;UACnB,MAAM,IAAIjB,KAAJ,CAAU,8CAAV,CAAN;QACH;;QAEDK,OAAO,CAAC;UACJC,SAAS,EAAC,KADN;UAEJC,KAAK,EAAC,EAFF;UAGJC,IAAI,EAAEU;QAHF,CAAD,CAAP;QAMAR,OAAO,CAACC,GAAR,CAAYK,IAAZ;MACC,CArBD,CAqBC,OAAMG,GAAN,EAAU;QACPd,OAAO,CAAC;UACJC,SAAS,EAAC,KADN;UAEJC,KAAK,EAAC,0BAFF;UAGJC,IAAI,EAAE;QAHF,CAAD,CAAP;MAKH;IACJ;;IACDC,OAAO;EAEV,CAlCQ,EAkCP,EAlCO,CAAT;EAoCA,IAAIW,QAAJ;;EACA,IAAGd,SAAH,EAAa;IACTc,QAAQ,gBAAC,QAAC,OAAD;MAAA;MAAA;MAAA;IAAA,QAAT;EACH,CAFD,MAEM,IAAGb,KAAK,KAAG,EAAX,EAAc;IAChBa,QAAQ,gBAAG,QAAC,KAAD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAX;EACH,CAFK,MAED;IACDA,QAAQ,gBAAC,QAAC,IAAD;MAAM,QAAQ,EAAIZ;IAAlB;MAAA;MAAA;MAAA;IAAA,QAAT;EACH;;EAGD,oBACI;IAAA,UACKY;EADL;IAAA;IAAA;IAAA;EAAA,QADJ;AAMH;;GA3DQjB,Q"},"metadata":{},"sourceType":"module"}